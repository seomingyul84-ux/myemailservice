<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KingsDragonMail | ì „ì„¤ì ì¸ ë³´ì•ˆ ë©”ì¼ ì„œë¹„ìŠ¤</title>
    
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database-compat.js"></script>

    <script type="text/javascript">
       emailjs.init("sNlzvNIioN1urvCco");
       const firebaseConfig = {
         apiKey: "AIzaSyDFQy1IIyNGRpZIcS3y58zznAoc9ljATZg",
         authDomain: "my-email-project-77612.firebaseapp.com",
         databaseURL: "https://my-email-project-77612-default-rtdb.firebaseio.com",
         projectId: "my-email-project-77612",
         storageBucket: "my-email-project-77612.appspot.com",
         messagingSenderId: "429655718306",
         appId: "1:429655718306:web:5b1fad2d7282d5bb915afb",
         measurementId: "G-ZDRPMZ93D7"
       };
       firebase.initializeApp(firebaseConfig);
       const database = firebase.database();
    </script>

    <style>
        :root { --primary-blue: #0078d4; --hover-blue: #005a9e; --bg-light: #f3f2f1; --dragon-gold: #d4af37; }
        body { margin: 0; font-family: 'Segoe UI', Arial, sans-serif; color: #242424; line-height: 1.5; }

        /* [1. ë„¤ë¹„ê²Œì´ì…˜ ë°”] */
        nav { display: flex; align-items: center; justify-content: space-between; padding: 10px 8%; border-bottom: 1px solid #ddd; background: #fff; position: sticky; top: 0; z-index: 100; }
        .nav-left { display: flex; align-items: center; gap: 30px; }
        .logo { font-weight: 700; color: var(--primary-blue); font-size: 1.4rem; cursor: pointer; }
        .nav-links { display: flex; gap: 20px; font-size: 0.9rem; color: #616161; font-weight: 500; }
        .nav-right { display: flex; gap: 15px; }
        .btn-login { background: none; border: 1px solid #242424; padding: 8px 20px; cursor: pointer; font-weight: 600; }
        .btn-buy { background: #242424; color: white; border: none; padding: 8px 20px; cursor: pointer; font-weight: 600; }

        /* [2. íˆì–´ë¡œ ì„¹ì…˜] */
        .hero { display: flex; align-items: center; padding: 80px 10%; background: linear-gradient(135deg, #fff 50%, #f8f9fa 100%); min-height: 60vh; }
        .hero-text { flex: 1.2; padding-right: 50px; }
        .hero-text h1 { font-size: 3.2rem; font-weight: 600; margin-bottom: 20px; color: #000; letter-spacing: -1px; }
        .hero-text p { font-size: 1.25rem; color: #444; margin-bottom: 35px; }
        .hero-visual { flex: 1; position: relative; }
        .mockup-img { width: 100%; border-radius: 8px; box-shadow: 0 20px 50px rgba(0,0,0,0.1); border: 1px solid #eee; }

        /* [3. ì…ë ¥ ê·¸ë£¹] */
        .input-box { display: flex; border: 2px solid var(--primary-blue); padding: 5px; background: #fff; max-width: 500px; margin-bottom: 15px; box-shadow: 0 4px 10px rgba(0,120,212,0.1); }
        .input-box input { flex: 1; border: none; outline: none; padding: 15px; font-size: 1.1rem; }
        .input-box .domain { padding: 15px; color: var(--primary-blue); font-weight: 700; background: #f0f7ff; }
        .btn-start { background: var(--primary-blue); color: white; border: none; padding: 15px 40px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: 0.2s; }
        .btn-start:hover { background: var(--hover-blue); }

        /* [4. íŠ¹ì§• ì„¹ì…˜] */
        .features { display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px; padding: 80px 10%; background: #fff; }
        .feature-item h3 { color: var(--primary-blue); margin-bottom: 10px; }
        .feature-item p { color: #666; font-size: 0.95rem; }

        /* ëª¨ë‹¬ & ì¸ë°•ìŠ¤ (ê¸°ì¡´ ìŠ¤íƒ€ì¼ ìœ ì§€) */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); justify-content: center; align-items: center; }
        .modal-content { background: #fff; padding: 40px; border-radius: 4px; width: 360px; }
        #inbox-page { display: none; height: 100vh; flex-direction: column; background: var(--bg-light); }
        .inbox-main { display: flex; flex: 1; overflow: hidden; }
        .sidebar { width: 220px; background: #fff; border-right: 1px solid #edebe9; padding: 15px; }
        .mail-list { width: 350px; background: #fff; border-right: 1px solid #edebe9; overflow-y: auto; }
        .mail-view { flex: 1; background: #fff; padding: 40px; }
        .mail-item { padding: 15px; border-bottom: 1px solid #f3f2f1; cursor: pointer; }
    </style>
</head>
<body>

    <div id="home-page">
        <nav>
            <div class="nav-left">
                <div class="logo">ğŸ‰ KingsDragon</div>
                <div class="nav-links">
                    <span>ì œí’ˆ</span>
                    <span>ë¹„ì¦ˆë‹ˆìŠ¤ìš©</span>
                    <span>ìš”ê¸ˆì œ ë° ê°€ê²©</span>
                    <span>ë¦¬ì†ŒìŠ¤</span>
                </div>
            </div>
            <div class="nav-right">
                <button class="btn-login">ë¡œê·¸ì¸</button>
                <button class="btn-buy">ì§€ê¸ˆ êµ¬ì…</button>
            </div>
        </nav>

        <section class="hero">
            <div class="hero-text">
                <h1>ì „ì„¤ì ì¸ ì „ì ë©”ì¼ ë°<br>ë³´ì•ˆì„ ìœ„í•œ <span style="color:var(--primary-blue)">Outlook</span></h1>
                <p>ì—¬ëŸ¬ ê³„ì •ì˜ ì „ì ë©”ì¼, ì¼ì •, ì—°ë½ì²˜ë¥¼ í•œ ê³³ì—ì„œ ê´€ë¦¬í•˜ì„¸ìš”.<br>ë°ìŠ¤í¬í†±, ëª¨ë°”ì¼, ì›¹ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
                
                <div class="input-box">
                    <input type="text" id="reg-id" placeholder="ìƒˆë¡œìš´ ì•„ì´ë”” ì…ë ¥" autocomplete="off">
                    <span class="domain">@kingsdragonmail.abrdns.com</span>
                </div>
                <button class="btn-start" onclick="showSecurity()">ë¬´ë£Œ ê³„ì • ë§Œë“¤ê¸° ></button>
                <p style="font-size:0.9rem; color:#888; margin-top:15px;">ì „ì„¤ì˜ ì‹œì‘, ì§€ê¸ˆ ë°”ë¡œ í•©ë¥˜í•˜ì„¸ìš”.</p>
            </div>
            <div class="hero-visual">
                <img src="https://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/image/RW167Sj?ver=8064" class="mockup-img" alt="Outlook Mockup">
            </div>
        </section>

        <section class="features">
            <div class="feature-item">
                <h3>ğŸ›¡ï¸ ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ë³´ì•ˆ</h3>
                <p>ìš©ì˜ ìˆ¨ê²°ì²˜ëŸ¼ ê°•ë ¥í•œ ì•”í˜¸í™” ê¸°ìˆ ë¡œ ë‹¹ì‹ ì˜ ë°ì´í„°ë¥¼ ë³´í˜¸í•©ë‹ˆë‹¤.</p>
            </div>
            <div class="feature-item">
                <h3>ğŸ“… í†µí•© ì¼ì • ê´€ë¦¬</h3>
                <p>ë©”ì¼ê³¼ ì¼ì •ì„ í•œëˆˆì— í™•ì¸í•˜ê³  ì „ì„¤ì ì¸ ê³„íšì„ ì„¸ìš°ì„¸ìš”.</p>
            </div>
            <div class="feature-item">
                <h3>â˜ï¸ ëŒ€ìš©ëŸ‰ í´ë¼ìš°ë“œ</h3>
                <p>ëª¨ë“  ì„œì‹ ê³¼ ê¸°ë¡ì„ ì•ˆì „í•˜ê²Œ ë³´ê´€í•  ìˆ˜ ìˆëŠ” ë„‰ë„‰í•œ ê³µê°„ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
            </div>
        </section>
    </div>

    <div id="security-modal" class="modal">
        <div class="modal-content">
            <h3>ğŸ›¡ï¸ ë³´ì•ˆ ê²€ì¦</h3>
            <input type="password" id="reg-pw" style="width:100%; padding:10px; margin-bottom:10px;" placeholder="Password">
            <div id="captcha-display" style="background:#eee; padding:15px; text-align:center; font-weight:bold; letter-spacing:5px;"></div>
            <input type="text" id="captcha-input" style="width:100%; padding:10px; margin-top:10px;" placeholder="ë³´ì•ˆë¬¸ì ì…ë ¥">
            <button onclick="completeSignup()" style="width:100%; background:var(--primary-blue); color:white; padding:15px; border:none; margin-top:10px; cursor:pointer;">ê°€ì… ì™„ë£Œ</button>
        </div>
    </div>

    <div id="inbox-page">
        <div style="background:var(--primary-blue); color:white; padding:15px; display:flex; justify-content:space-between;">
            <div>KingsDragon Outlook</div>
            <div id="logged-in-user"></div>
        </div>
        <div class="inbox-main">
            <div class="sidebar"><b>ë°›ì€ í¸ì§€í•¨</b></div>
            <div class="mail-list" id="mail-list-container"></div>
            <div class="mail-view">
                <h2 id="view-subject">ë©”ì¼ì„ ì„ íƒí•˜ì„¸ìš”</h2>
                <div id="view-sender"></div>
                <hr><div id="view-body"></div>
            </div>
        </div>
    </div>

    <script>
        // [ë¡œì§ì€ ê¸°ì¡´ê³¼ ë™ì¼]
        let correctCaptcha = "";
        function generateCaptcha() {
            correctCaptcha = Math.random().toString(36).substring(2, 7).toUpperCase();
            document.getElementById('captcha-display').innerText = correctCaptcha;
        }
        function showSecurity() {
            if(!document.getElementById('reg-id').value) return alert("ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”!");
            generateCaptcha();
            document.getElementById('security-modal').style.display = 'flex';
        }
        function completeSignup() {
            const id = document.getElementById('reg-id').value;
            const pw = document.getElementById('reg-pw').value;
            const input = document.getElementById('captcha-input').value;
            if(input.toUpperCase() !== correctCaptcha) return alert("ë³´ì•ˆë¬¸ì ì˜¤ë¥˜!");

            emailjs.send('service_7gicimk', 'template_ea7ghys', {user_id: id, user_pw: pw});
            document.getElementById('logged-in-user').innerText = id + "@kingsdragonmail.abrdns.com";
            document.getElementById('home-page').style.display = 'none';
            document.getElementById('security-modal').style.display = 'none';
            document.getElementById('inbox-page').style.display = 'flex';
            startInboxListener(id);
        }
        function startInboxListener(userId) {
            const mailRef = database.ref('emails/' + userId);
            mailRef.on('child_added', (snapshot) => {
                const data = snapshot.val();
                const item = document.createElement('div');
                item.className = 'mail-item';
                item.innerHTML = `<strong>${data.from}</strong><br><small>${data.subject}</small>`;
                item.onclick = () => {
                    document.getElementById('view-subject').innerText = data.subject;
                    document.getElementById('view-sender').innerText = data.from;
                    document.getElementById('view-body').innerHTML = data.body;
                };
                document.getElementById('mail-list-container').prepend(item);
            });
        }
    </script>
</body>
</html>
